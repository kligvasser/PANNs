
### unbalanced
#python3 create_dataset.py split_unbalanced_csv_to_partial_csvs --unbalanced_csv /home/klig/datasets/audioset/metadata/unbalanced_train_segments.csv --unbalanced_partial_csvs_dir /home/klig/datasets/audioset/metadata/unbalanced_partial_csvs

#python3 create_dataset.py pack_waveforms_to_hdf5 --csv_path /home/klig/datasets/audioset/metadata/unbalanced_partial_csvs/unbalanced_train_segments_part00.csv --audios_dir /home/klig/datasets/audioset/audios/unbalanced_train_segments/unbalanced_train_segments_part00 --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part00.h5
#python3 create_dataset.py pack_waveforms_to_hdf5 --csv_path /home/klig/datasets/audioset/metadata/unbalanced_partial_csvs/unbalanced_train_segments_part01.csv --audios_dir /home/klig/datasets/audioset/audios/unbalanced_train_segments/unbalanced_train_segments_part01 --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part01.h5
#python3 create_dataset.py pack_waveforms_to_hdf5 --csv_path /home/klig/datasets/audioset/metadata/unbalanced_partial_csvs/unbalanced_train_segments_part02.csv --audios_dir /home/klig/datasets/audioset/audios/unbalanced_train_segments/unbalanced_train_segments_part02 --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part02.h5
#python3 create_dataset.py pack_waveforms_to_hdf5 --csv_path /home/klig/datasets/audioset/metadata/unbalanced_partial_csvs/unbalanced_train_segments_part03.csv --audios_dir /home/klig/datasets/audioset/audios/unbalanced_train_segments/unbalanced_train_segments_part03 --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part03.h5
#python3 create_dataset.py pack_waveforms_to_hdf5 --csv_path /home/klig/datasets/audioset/metadata/unbalanced_partial_csvs/unbalanced_train_segments_part04.csv --audios_dir /home/klig/datasets/audioset/audios/unbalanced_train_segments/unbalanced_train_segments_part04 --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part04.h5
#python3 create_dataset.py pack_waveforms_to_hdf5 --csv_path /home/klig/datasets/audioset/metadata/unbalanced_partial_csvs/unbalanced_train_segments_part05.csv --audios_dir /home/klig/datasets/audioset/audios/unbalanced_train_segments/unbalanced_train_segments_part05 --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part05.h5
#python3 create_dataset.py pack_waveforms_to_hdf5 --csv_path /home/klig/datasets/audioset/metadata/unbalanced_partial_csvs/unbalanced_train_segments_part06.csv --audios_dir /home/klig/datasets/audioset/audios/unbalanced_train_segments/unbalanced_train_segments_part06 --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part06.h5
#python3 create_dataset.py pack_waveforms_to_hdf5 --csv_path /home/klig/datasets/audioset/metadata/unbalanced_partial_csvs/unbalanced_train_segments_part07.csv --audios_dir /home/klig/datasets/audioset/audios/unbalanced_train_segments/unbalanced_train_segments_part07 --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part07.h5
#python3 create_dataset.py pack_waveforms_to_hdf5 --csv_path /home/klig/datasets/audioset/metadata/unbalanced_partial_csvs/unbalanced_train_segments_part08.csv --audios_dir /home/klig/datasets/audioset/audios/unbalanced_train_segments/unbalanced_train_segments_part08 --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part08.h5
#python3 create_dataset.py pack_waveforms_to_hdf5 --csv_path /home/klig/datasets/audioset/metadata/unbalanced_partial_csvs/unbalanced_train_segments_part09.csv --audios_dir /home/klig/datasets/audioset/audios/unbalanced_train_segments/unbalanced_train_segments_part09 --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part09.h5
#python3 create_dataset.py pack_waveforms_to_hdf5 --csv_path /home/klig/datasets/audioset/metadata/unbalanced_partial_csvs/unbalanced_train_segments_part10.csv --audios_dir /home/klig/datasets/audioset/audios/unbalanced_train_segments/unbalanced_train_segments_part10 --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part10.h5
#python3 create_dataset.py pack_waveforms_to_hdf5 --csv_path /home/klig/datasets/audioset/metadata/unbalanced_partial_csvs/unbalanced_train_segments_part11.csv --audios_dir /home/klig/datasets/audioset/audios/unbalanced_train_segments/unbalanced_train_segments_part11 --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part11.h5
#python3 create_dataset.py pack_waveforms_to_hdf5 --csv_path /home/klig/datasets/audioset/metadata/unbalanced_partial_csvs/unbalanced_train_segments_part12.csv --audios_dir /home/klig/datasets/audioset/audios/unbalanced_train_segments/unbalanced_train_segments_part12 --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part12.h5
#python3 create_dataset.py pack_waveforms_to_hdf5 --csv_path /home/klig/datasets/audioset/metadata/unbalanced_partial_csvs/unbalanced_train_segments_part13.csv --audios_dir /home/klig/datasets/audioset/audios/unbalanced_train_segments/unbalanced_train_segments_part13 --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part13.h5
#python3 create_dataset.py pack_waveforms_to_hdf5 --csv_path /home/klig/datasets/audioset/metadata/unbalanced_partial_csvs/unbalanced_train_segments_part14.csv --audios_dir /home/klig/datasets/audioset/audios/unbalanced_train_segments/unbalanced_train_segments_part14 --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part14.h5
#python3 create_dataset.py pack_waveforms_to_hdf5 --csv_path /home/klig/datasets/audioset/metadata/unbalanced_partial_csvs/unbalanced_train_segments_part15.csv --audios_dir /home/klig/datasets/audioset/audios/unbalanced_train_segments/unbalanced_train_segments_part15 --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part15.h5
#python3 create_dataset.py pack_waveforms_to_hdf5 --csv_path /home/klig/datasets/audioset/metadata/unbalanced_partial_csvs/unbalanced_train_segments_part16.csv --audios_dir /home/klig/datasets/audioset/audios/unbalanced_train_segments/unbalanced_train_segments_part16 --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part16.h5
#python3 create_dataset.py pack_waveforms_to_hdf5 --csv_path /home/klig/datasets/audioset/metadata/unbalanced_partial_csvs/unbalanced_train_segments_part17.csv --audios_dir /home/klig/datasets/audioset/audios/unbalanced_train_segments/unbalanced_train_segments_part17 --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part17.h5
#python3 create_dataset.py pack_waveforms_to_hdf5 --csv_path /home/klig/datasets/audioset/metadata/unbalanced_partial_csvs/unbalanced_train_segments_part18.csv --audios_dir /home/klig/datasets/audioset/audios/unbalanced_train_segments/unbalanced_train_segments_part18 --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part18.h5
#python3 create_dataset.py pack_waveforms_to_hdf5 --csv_path /home/klig/datasets/audioset/metadata/unbalanced_partial_csvs/unbalanced_train_segments_part19.csv --audios_dir /home/klig/datasets/audioset/audios/unbalanced_train_segments/unbalanced_train_segments_part19 --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part19.h5

python3 create_indexes.py create_indexes --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part00.h5 --indexes_hdf5_path /home/klig/datasets/audioset/hdf5s/indexes/unbalanced_train/unbalanced_train_part00.h5
python3 create_indexes.py create_indexes --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part01.h5 --indexes_hdf5_path /home/klig/datasets/audioset/hdf5s/indexes/unbalanced_train/unbalanced_train_part01.h5
python3 create_indexes.py create_indexes --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part02.h5 --indexes_hdf5_path /home/klig/datasets/audioset/hdf5s/indexes/unbalanced_train/unbalanced_train_part02.h5
python3 create_indexes.py create_indexes --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part03.h5 --indexes_hdf5_path /home/klig/datasets/audioset/hdf5s/indexes/unbalanced_train/unbalanced_train_part03.h5
python3 create_indexes.py create_indexes --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part04.h5 --indexes_hdf5_path /home/klig/datasets/audioset/hdf5s/indexes/unbalanced_train/unbalanced_train_part04.h5
python3 create_indexes.py create_indexes --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part05.h5 --indexes_hdf5_path /home/klig/datasets/audioset/hdf5s/indexes/unbalanced_train/unbalanced_train_part05.h5
python3 create_indexes.py create_indexes --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part06.h5 --indexes_hdf5_path /home/klig/datasets/audioset/hdf5s/indexes/unbalanced_train/unbalanced_train_part06.h5
python3 create_indexes.py create_indexes --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part07.h5 --indexes_hdf5_path /home/klig/datasets/audioset/hdf5s/indexes/unbalanced_train/unbalanced_train_part07.h5
python3 create_indexes.py create_indexes --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part08.h5 --indexes_hdf5_path /home/klig/datasets/audioset/hdf5s/indexes/unbalanced_train/unbalanced_train_part08.h5
python3 create_indexes.py create_indexes --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part09.h5 --indexes_hdf5_path /home/klig/datasets/audioset/hdf5s/indexes/unbalanced_train/unbalanced_train_part09.h5
python3 create_indexes.py create_indexes --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part10.h5 --indexes_hdf5_path /home/klig/datasets/audioset/hdf5s/indexes/unbalanced_train/unbalanced_train_part10.h5
python3 create_indexes.py create_indexes --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part11.h5 --indexes_hdf5_path /home/klig/datasets/audioset/hdf5s/indexes/unbalanced_train/unbalanced_train_part11.h5
python3 create_indexes.py create_indexes --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part12.h5 --indexes_hdf5_path /home/klig/datasets/audioset/hdf5s/indexes/unbalanced_train/unbalanced_train_part12.h5
python3 create_indexes.py create_indexes --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part13.h5 --indexes_hdf5_path /home/klig/datasets/audioset/hdf5s/indexes/unbalanced_train/unbalanced_train_part13.h5
python3 create_indexes.py create_indexes --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part14.h5 --indexes_hdf5_path /home/klig/datasets/audioset/hdf5s/indexes/unbalanced_train/unbalanced_train_part14.h5
python3 create_indexes.py create_indexes --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part15.h5 --indexes_hdf5_path /home/klig/datasets/audioset/hdf5s/indexes/unbalanced_train/unbalanced_train_part15.h5
python3 create_indexes.py create_indexes --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part16.h5 --indexes_hdf5_path /home/klig/datasets/audioset/hdf5s/indexes/unbalanced_train/unbalanced_train_part16.h5
python3 create_indexes.py create_indexes --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part17.h5 --indexes_hdf5_path /home/klig/datasets/audioset/hdf5s/indexes/unbalanced_train/unbalanced_train_part17.h5
python3 create_indexes.py create_indexes --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part18.h5 --indexes_hdf5_path /home/klig/datasets/audioset/hdf5s/indexes/unbalanced_train/unbalanced_train_part18.h5
python3 create_indexes.py create_indexes --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/unbalanced_train/unbalanced_train_part19.h5 --indexes_hdf5_path /home/klig/datasets/audioset/hdf5s/indexes/unbalanced_train/unbalanced_train_part19.h5


### eval
#python3 create_dataset.py pack_waveforms_to_hdf5 --csv_path /home/klig/datasets/audioset/metadata/eval_segments.csv --audios_dir /home/klig/datasets/audioset/audios/eval_segments/ --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/eval.h5
python3 create_indexes.py create_indexes --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/eval.h5 --indexes_hdf5_path /home/klig/datasets/audioset/hdf5s/indexes/eval.h5


### balanced train
#python3 create_dataset.py pack_waveforms_to_hdf5 --csv_path /home/klig/datasets/audioset/metadata/balanced_train_segments.csv --audios_dir /home/klig/datasets/audioset/audios/balanced_train_segments/ --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/balanced_train.h5
python3 create_indexes.py create_indexes --waveforms_hdf5_path /home/klig/datasets/audioset/hdf5s/waveforms/balanced_train.h5 --indexes_hdf5_path /home/klig/datasets/audioset/hdf5s/indexes/balanced_train.h5


### combine
python3 create_indexes.py combine_full_indexes --indexes_hdf5s_dir /home/klig/datasets/audioset/hdf5s/indexes --full_indexes_hdf5_path /home/klig/datasets/audioset/hdf5s/indexes/full_train.h5


### train
#python3 main.py train --data_type full_train --model_type Cnn14_8k --window_size 256 --hop_size 80 --mel_bins 64 --fmin 50 --fmax 4000 --pretrained_checkpoint_path /media/klig/disk/models-zoo/panns/Cnn14_8k_mAP=0.416.pth --data-root /home/klig/datasets/audioset/ --early_stop 20000 --batch_size 64 --cuda
